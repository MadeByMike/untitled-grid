{"version":3,"file":"untitled-grid.module.js","sources":["../src/stylesheet.js","../src/untitled-grid.js"],"sourcesContent":["// These styles are way more \"functional\" than I would like\n// And it's against what I normally would recommend.\n// In my defence, it's really hard to make flexible utility\n// like this, with declarative styles.\n\n// Help me improve it!\n\nconst JUSTIFY = {\n  start: {\n    justifyContent: \"flex-start\",\n    textAlign: \"start\"\n  },\n  center: {\n    justifyContent: \"center\",\n    textAlign: \"center\"\n  },\n  end: { justifyContent: \"flex-end\" },\n  around: { justifyContent: \"space-around\" },\n  between: { justifyContent: \"space-between\" }\n};\n\nconst ALIGN = {\n  top: {\n    alignItems: \"flex-start\"\n  },\n  middle: {\n    alignItems: \"center\"\n  },\n  bottom: { alignItems: \"flex-end\" }\n};\n\nexport const getColumnStyles = (\n  { reverse, breakpoints, cols, rootEM, gutter },\n  props\n) => {\n  let sizeStyles = {};\n  Object.keys(breakpoints).forEach(key => {\n    if (props[key]) {\n      const { span, order, offset } = props[key];\n      const styles = {\n        // Only add properties if they exist.\n        // \"undefined\" will unset the previous responsive properties\n        ...(span && { flexBasis: `${(100 / cols) * span}%` }),\n        ...(span && { maxWidth: `${(100 / cols) * span}%` }),\n        ...(span && { flexGrow: undefined }),\n        ...(order && { order: order }),\n        ...(offset && { marginLeft: `${(100 / cols) * offset}%` })\n      };\n\n      sizeStyles =\n        breakpoints[key] === 0\n          ? { ...sizeStyles, ...styles }\n          : {\n              ...sizeStyles,\n              [`@media screen and (min-width: ${breakpoints[key] /\n                rootEM}em)`]: styles\n            };\n    }\n  });\n\n  return {\n    boxSizing: \"border-box\",\n    flex: \"0 0 auto\",\n    paddingRight: gutter / 2,\n    paddingLeft: gutter / 2,\n    flexDirection: reverse ? \"column-reverse\" : \"row\",\n    flexGrow: 1,\n    flexBasis: 0,\n    maxWidth: \"100%\",\n    ...sizeStyles\n  };\n};\n\nconst getJustify = key => (key ? (JUSTIFY[key] ? JUSTIFY[key] : key) : {});\nconst getAlign = key => (key ? (ALIGN[key] ? ALIGN[key] : key) : {});\n\nexport const getRowStyles = (\n  { reverse, breakpoints, rootEM, gutter },\n  props\n) => {\n  const gutterCompensation = (gutter / 2) * -1;\n\n  let sizeStyles = {};\n  Object.keys(breakpoints).forEach(key => {\n    if (props[key]) {\n      const { align, justify } = props[key];\n      const styles = {\n        ...getJustify(justify),\n        ...getAlign(align)\n      };\n\n      sizeStyles =\n        breakpoints[key] === 0\n          ? { ...sizeStyles, ...styles }\n          : {\n              ...sizeStyles,\n              [`@media screen and (min-width: ${breakpoints[key] /\n                rootEM})em`]: styles\n            };\n    }\n  });\n\n  return {\n    boxSizing: \"border-box\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    marginRight: gutterCompensation,\n    marginLeft: gutterCompensation,\n    flexDirection: reverse ? \"row-reverse\" : \"row\",\n    ...sizeStyles\n  };\n};\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { createContext, useContext, createElement } from \"react\";\nimport { getColumnStyles, getRowStyles } from \"./stylesheet\";\n\nconst DEFAULT_CONTEXT = {\n  reverse: false,\n  gutter: 10,\n  breakpoints: { xs: 0, sm: 768, md: 1024, lg: 1920 },\n  rootEM: 16,\n  cols: 12\n};\n\nconst GridContext = createContext(DEFAULT_CONTEXT);\n\nconst getGridElement = styleFunction => ({\n  as = \"div\",\n  children,\n  css = {},\n  ...props\n}) => {\n  const Tag = nextProps =>\n    createElement(as, { ...props, ...nextProps }, children);\n  return (\n    <Tag css={{ ...styleFunction(useContext(GridContext), props), ...css }} />\n  );\n};\n\nexport const GridProvider = ({ children, ...props }) => {\n  // Get props from parent provider if it exists\n  const parentContext = useContext(GridContext) || DEFAULT_CONTEXT;\n  // Combine parent context with props to get new provider values\n  const { reverse, gutter, breakpoints, rootEM, cols } = {\n    ...parentContext,\n    ...props\n  };\n  return (\n    <GridContext.Provider\n      value={{ gutter, reverse, breakpoints, rootEM, cols }}\n    >\n      {children}\n    </GridContext.Provider>\n  );\n};\n\nexport const Col = getGridElement(getColumnStyles);\n\nexport const Row = props => {\n  const Row = getGridElement(getRowStyles);\n  return (\n    <GridProvider {...props}>\n      <Row {...props} />\n    </GridProvider>\n  );\n};\n"],"names":["const","JUSTIFY","start","justifyContent","textAlign","center","end","around","between","ALIGN","top","alignItems","middle","bottom","getRowStyles","props","gutterCompensation","sizeStyles","Object","keys","breakpoints","forEach","key","styles","getJustify","align","rootEM","boxSizing","display","flexWrap","marginRight","marginLeft","flexDirection","reverse","DEFAULT_CONTEXT","gutter","xs","sm","md","lg","cols","GridContext","createContext","getGridElement","styleFunction","jsx","nextProps","createElement","as","children","css","useContext","GridProvider","parentContext","Provider","value","Col","span","flexBasis","maxWidth","flexGrow","undefined","order","offset","flex","paddingRight","paddingLeft","Row"],"mappings":"6GAOAA,IAAMC,EAAU,CACdC,MAAO,CACLC,eAAgB,aAChBC,UAAW,SAEbC,OAAQ,CACNF,eAAgB,SAChBC,UAAW,UAEbE,IAAK,CAAEH,eAAgB,YACvBI,OAAQ,CAAEJ,eAAgB,gBAC1BK,QAAS,CAAEL,eAAgB,kBAGvBM,EAAQ,CACZC,IAAK,CACHC,WAAY,cAEdC,OAAQ,CACND,WAAY,UAEdE,OAAQ,CAAEF,WAAY,aAgDXG,aAEXC,8CAEMC,WAA+B,GAAM,EAEvCC,EAAa,UACjBC,OAAOC,KAAKC,GAAaC,iBAAQC,YAC3BP,EAAMO,GAAM,OACaP,EAAMO,aAC3BC,EAASL,0BAbFI,UAAQA,EAAOrB,EAAQqB,GAAOrB,EAAQqB,GAAOA,EAAO,GAc5DE,YACSC,EAdYhB,EAcZgB,GAdyBhB,EAczBgB,GAAAA,EAd6C,IAiB3DR,EACuB,IAArBG,EAAYE,GACRJ,iBAAKD,EAAeM,GACpBL,iBACKD,2CAC+BG,EAAYE,GAC5CI,SAAcH,SAKrBL,kBACLS,UAAW,aACXC,QAAS,OACTC,SAAU,OACVC,YAAad,EACbe,WAAYf,EACZgB,cAAeC,EAAU,cAAgB,OACtChB,+HC5GP,IAIMiB,EAAkB,CACtBD,SAAS,EACTE,OAAQ,GACRf,YAAa,CAAEgB,GAAI,EAAGC,GAAI,IAAKC,GAAI,KAAMC,GAAI,MAC7Cb,OAAQ,GACRc,KAAM,IAGFC,EAAcC,EAAcR,GAE5BS,WAAiBC,gDAChB,+CAEC,8CAMJC,WAHUC,UACVC,EAAcC,EAAI9B,iBAAKH,EAAU+B,GAAaG,KAEzCC,IAAKhC,iBAAK0B,EAAcO,EAAWV,GAAc1B,GAAWmC,OAIxDE,mDAELC,EAAgBF,EAAWV,IAAgBP,IAEMhB,iBAClDmC,EACAtC,UAGH8B,EAACJ,EAAYa,UACXC,MAAO,2FAENN,IAKMO,EAAMb,aDZjB5B,kEAEIE,EAAa,UACjBC,OAAOC,KAAKC,GAAaC,iBAAQC,YAC3BP,EAAMO,GAAM,OACkBP,EAAMO,iCAChCC,EAASL,iBAGTuC,GAAQ,CAAEC,UAAe,IAAMlB,EAAQiB,OACvCA,GAAQ,CAAEE,SAAc,IAAMnB,EAAQiB,OACtCA,GAAQ,CAAEG,cAAUC,GACpBC,GAAS,CAAEA,MAAOA,GAClBC,GAAU,CAAEhC,WAAgB,IAAMS,EAAQuB,QAGhD9C,EACuB,IAArBG,EAAYE,GACRJ,iBAAKD,EAAeM,GACpBL,iBACKD,2CAC+BG,EAAYE,GAC5CI,SAAcH,SAKrBL,kBACLS,UAAW,aACXqC,KAAM,WACNC,aAAc9B,EAAS,EACvB+B,YAAa/B,EAAS,EACtBH,cAAeC,EAAU,iBAAmB,MAC5C2B,SAAU,EACVF,UAAW,EACXC,SAAU,QACP1C,KCtBMkD,WAAMpD,OACXoD,EAAMxB,EAAe7B,UAEzB+B,EAACO,EAAiBrC,EAChB8B,EAACsB,EAAQpD"}